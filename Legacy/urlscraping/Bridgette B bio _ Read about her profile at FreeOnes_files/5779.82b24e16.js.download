(self.webpackChunk=self.webpackChunk||[]).push([[5779],{19942:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var o=r(55959);const n={class:"mb-3 flex flex-row"},i={class:"profile-image profile-image-zoomable ratio-1-1 mr-3"},l={class:"image-wrap image-placeholder"},a=["src"],m={class:"mb-0 bg-color-comment p-4 border-radius flex-basis-100"},s={class:"flex justify-between"},c={class:"color-dropdown font-bold m-0"},d=["href"],p=["href"],u=["title"],f={class:"m-0 mt-1"};var b=r(38996),h=r(79995),g=r(49151),k=r(31186),v=r(1119),y=r(71655),E=r(55216),w=(r(96017),r(73247),r(91036)),x=r.n(w),N=r(13171),S=r(32859),V=r(74613),M=r(7526);const B=new V.xd(S),C={nl:h.Z,fr:g.Z,de:k.Z,it:v.Z,es:y.Z,pt:E.Z};var U={name:"SingleComment",components:{ProblemReportModal:M.Z},provide(){return{uniqueModalId:this.id}},props:{id:{type:String,required:!0,default:""},comment:{type:String,required:!0,default:""},type:{type:String,required:!1,default:"comment"},nickname:{type:String,required:!0,default:""},avatar:{type:String,required:!0,default:""},boardUsername:{type:String,required:!0,default:""},boardUserId:{type:String,required:!0,default:""},userMembership:{type:String,required:!0,default:""},createdAt:{type:String,required:!0,default:""},boardUrl:{type:String,default:""},premiumSignupUrl:{type:String,default:""}},data:function(){return{memberships:{free:{title:"Free Member",premium:!1},bronze:{title:"Bronze Member",premium:!0},silver:{title:"Silver Member",premium:!0},gold:{title:"Gold Member",premium:!0},platinum:{title:"Platinum Member",premium:!0},premium:{title:"Bronze Member",premium:!0}},index:B}},computed:{generateBoardProfileLink:function(){return this.boardUrl+"/members/"+this.boardUsername+"."+this.boardUserId+"/"},commentWithUnparsedEmoji:function(){return{components:{Emoji:V.dy},data:function(){return{index:B}},template:`<div>${this.colonsToEmoji(this.comment)}</div>`}}},methods:{moment:function(e){return e.includes("T")||(e=e.replace(" ","T"),e+=".000Z"),(0,b.Z)(new Date(e),new Date,{locale:C[window.translationLocale],addSuffix:!0})},report:function(){N.Z.emit("showModal"+this.id,{typeId:this.id,type:this.type,title:this.comment,meta:this.boardUrl})},colonsToEmoji:function(e){let t=x()(e,{allowedTags:[],allowedAttributes:{}}),r=t.match(/(^|\s)(:[a-zA-Z0-9-_+]+:(:skin-tone-[2-6]:)?)/g);return r&&r.length&&(r=new Set(r),r.forEach((e=>{const r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=new RegExp(r,"g");t=t.replace(o,'<Emoji :data="this.index" emoji='+e+' set="twitter"/>')}))),t}}};var Z=(0,r(83744).Z)(U,[["render",function(e,t,r,b,h,g){const k=(0,o.resolveComponent)("icon"),v=(0,o.resolveComponent)("problem-report-modal");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createCommentVNode)(" @todo might want to re-enable this in the future "),(0,o.createCommentVNode)("  <div v-bind:class=\"[commentIndex % 2 === 0 ? 'mb-3 flex flex-row' : 'mb-3 flex flex-row-reverse']\">"),(0,o.createElementVNode)("div",n,[(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",i,[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("img",{src:r.avatar,class:"image-content",title:"profile image"},null,8,a)])])]),(0,o.createElementVNode)("div",m,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("p",c,[null!==r.boardUsername&&null!==r.boardUserId?((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:0,target:"_blank",href:g.generateBoardProfileLink},(0,o.toDisplayString)(r.nickname),9,d)):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createTextVNode)((0,o.toDisplayString)(r.nickname),1)],64)),r.userMembership&&e.memberships[r.userMembership].premium?((0,o.openBlock)(),(0,o.createElementBlock)("a",{key:2,target:"_blank",href:r.premiumSignupUrl},[(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["px-1 bg-color-tertiary border-radius-50 ml-1",{"diamond-sparkle":"gold"===r.userMembership||"platinum"===r.userMembership}]),title:e.memberships[r.userMembership].title},[(0,o.createVNode)(k,{icon:"gem",title:e.memberships[r.userMembership].title,classes:"svg-icon-xs  color-membership-"+r.userMembership,class:(0,o.normalizeClass)({"color-membership-bronze":"premium"===r.userMembership})},null,8,["title","classes","class"])],10,u)],8,p)):(0,o.createCommentVNode)("v-if",!0),(0,o.createElementVNode)("span",{class:(0,o.normalizeClass)(["uppercase color-text-dark font-size-xxs",{block:"donation"===r.type,"ml-2":"donation"!==r.type}])},(0,o.toDisplayString)(g.moment(r.createdAt)),3)]),(0,o.createElementVNode)("span",{class:"comment-item-report-btn",title:"Report",onClick:t[0]||(t[0]=(0,o.withModifiers)(((...e)=>g.report&&g.report(...e)),["prevent"]))},[(0,o.createVNode)(k,{icon:"flag",classes:"svg-icon-sm",title:"Report"})])]),(0,o.createElementVNode)("p",f,[((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)(g.commentWithUnparsedEmoji)))])]),(0,o.createVNode)(v)]),(0,o.createCommentVNode)("  </div>")],2112)}]])},22868:function(){},14777:function(){},99830:function(){},70209:function(){},87414:function(){}}]);