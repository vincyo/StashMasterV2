window.adnPopConfig={debugMode:"false",zoneId:"152",loaderDomain:"a.medfoodsafety.com",loaderEndpoint:"/loader",loaderParams:{a:"152",s:"53",t:"4",p:"5235",fc:"28800",ti:"1",s1:"",s2:"",s3:"",pageUrl:"",title:""},freqCapPrefix:"ADN-POP",freqCapPeriod:parseInt("28800"),freqCapViewLimit:parseInt("1"),popupForce:"true",popupFallback:"false",chromeSafe:"false",newTab:"false",triggerMethod:parseInt("3"),triggerClass:"",preventTriggerClass:"no-pop-execute,container-fluid,nav,navbar-nav"},(()=>{window.document.querySelectorAll||(document.querySelectorAll=document.body.querySelectorAll=Object.querySelectorAll=function(e,o,r,t,n){var i=document,a=i.createStyleSheet();for(n=i.all,o=[],r=(e=e.replace(/\[for\b/gi,"[htmlFor").split(",")).length;r--;){for(a.addRule(e[r],"k:v"),t=n.length;t--;)n[t].currentStyle.k&&o.push(n[t]);a.removeRule(0)}return o}),window.document.querySelector||(document.querySelector=document.body.querySelector=Object.querySelector=function(e){e=document.querySelectorAll(e);return e.length?e[0]:null}),e=Event.prototype,o=document,r=window,e.composedPath||(e.composedPath=function(){if(!this.path){var e=this.target;for(this.path=[];null!==e.parentNode;)this.path.push(e),e=e.parentNode;this.path.push(o,r)}return this.path});var e,o,r,s={version:"2.4.0",top:null,browser:null,cookieName:"",url:"",openCount:0,config:{},configTpl:{debugMode:"false",zoneId:"",loaderDomain:"",loaderEndpoint:"",loaderParams:{a:"",s:"",t:"",p:"",fc:"",ti:"",s1:"",s2:"",s3:"",pageUrl:"",title:""},freqCapPrefix:"ADN-POP",freqCapPeriod:28800,freqCapViewLimit:1,popupForce:"true",popupFallback:"false",newTab:"false",chromeSafe:"false",triggerMethod:1,triggerClass:"",preventTriggerClass:"no-pop-execute"},init:function(e){if(void 0!==e.zoneId&&e.zoneId){for(var o in this.configTpl)this.configTpl.hasOwnProperty(o)&&(void 0!==e[o]?this.config[o]=e[o]:this.config[o]=this.configTpl[o]);void 0!==this.config.zoneId&&""!==this.config.zoneId&&("loading"===document.readyState?s.addEventToElement(window,"DOMContentLoaded",s.preparePop):s.preparePop())}},preparePop:function(){if(s.top=self,s.top!==self)try{top.document.location.toString()&&(s.top=top)}catch(e){console.warn(e)}var e;s.cookieName=s.config.freqCapPrefix+"-"+s.config.zoneId+"-"+s.version.replace(/\./g,""),s.Cap.isExpired(),s.buildUrl(),s.browser=s.browserDetector.detectBrowser(navigator.userAgent),("true"!==s.config.chromeSafe||"chrome"!==s.browser.name&&"crios"!==s.browser.name)&&(e=s.getPopMethod(s.browser),s.Console.log("[preparePop] `popMethod`: "+e.name),s.addEvent("click",e),s.Console.log("[preparePop] `matrix`:",s))},getPopMethod:function(e){return!e.isMobile&&("true"===s.config.popupForce||!("false"===s.config.popupFallback&&"chrome"===e.name||"true"===s.config.popupFallback&&"true"===s.config.newTab)&&"true"===s.config.popupFallback&&"chrome"===e.name&&68<=e.versionNumber)?s.methods.popup:s.methods.default},methods:{default:function(e){var o;return s.shouldShow()&&s.isValidUserEvent(e)&&!s.shouldPreventPopTrigger(e)&&(o=e.target||e.srcElement,o=s.findLinkToOpen(o),window.open(o,"_blank"),s.Cap.incrementCount(),s.top.document.location=s.url,void 0!==e.preventDefault)&&(e.preventDefault(),e.stopPropagation()),!0},chromeTab:function(e){if(!s.shouldShow()||!s.isValidUserEvent(e)||s.shouldPreventPopTrigger(triggeredEvent))return!0;if(void 0===e.preventDefault)return!0;e.preventDefault(),e.stopPropagation();var o=top.window.document.createElement("a"),e=e.target||e.srcElement,e=(o.href=s.findLinkToOpen(e),document.getElementsByTagName("body")[0].appendChild(o),new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!0,altKey:!1,shiftKey:!1,metaKey:!0,button:0}));e.preventDefault=void 0,o.dispatchEvent(e),o.parentNode.removeChild(o),window.open(s.url,"_self"),s.Cap.incrementCount()},popup:function(e){var o,r,t;return!(s.shouldShow()&&s.isValidUserEvent(e)&&!s.shouldPreventPopTrigger(e))||(o=Math.max(Math.round(.8*window.innerHeight),300),o="menubar=1,resizable=1,width="+Math.max(Math.round(.7*window.innerWidth),300)+",height="+o+",top="+(window.screenY+100)+",left="+(window.screenX+100),r=document.location.href,t=window.open(r,s.getPuId(),o),setTimeout(function(){t.location.href=s.url},1),s.Cap.incrementCount(),s.findLinkToOpen(e.target||e.srcElement)!==r)||void(void 0!==e.preventDefault&&(e.preventDefault(),e.stopPropagation()))},manualTrigger:function(e){return s.shouldShow()&&e&&s.isValidHref(e)&&(window.open(e,"_blank"),s.Cap.incrementCount(),s.top.document.location=s.url),!0}},addEventToElement:function(e,o,r){e.addEventListener?e.addEventListener(o,r,!1):e.attachEvent?(e["e"+o+r]=r,e[o+r]=function(){e["e"+o+r](window.event)},e.attachEvent("on"+o,e[o+r])):e["on"+o]=e["e"+o+r]},addEvent:function(e,o){var r,t;if("3"===s.config.triggerMethod.toString())for(s.config.preventTriggerClassArr=-1===s.config.preventTriggerClass.indexOf(",")?s.config.preventTriggerClass.split(" "):s.config.preventTriggerClass.replace(/\s/g,"").split(","),r=document.querySelectorAll("a"),a=0;a<r.length;a++)s.elementHasExcludedIdOrClass(r[a])||s.addEventToElement(r[a],e,o);else if("2"===s.config.triggerMethod.toString()&&""!==s.config.triggerMethod.toString()){var n,i=[];n=-1===s.config.triggerClass.indexOf(",")?s.config.triggerClass.split(" "):s.config.triggerClass.replace(/\s/g,"").split(",");for(var a=0;a<n.length;a++)""!==n[a]&&i.push("."+n[a]);for(r=document.querySelectorAll(i.join(", ")),a=0;a<r.length;a++)s.addEventToElement(r[a],e,o)}else s.browser.isMobile?(t=!1,s.addEventToElement(document,"touchstart",function(e){t=!1}),s.addEventToElement(document,"touchmove",function(e){t=!0}),s.addEventToElement(document,"touchend",function(e){if(!t)return o(e)})):s.addEventToElement(document,e,o)},findLinkToOpen:function(e){var o=e,e=!1;try{for(var r=0;r<20&&!o.getAttribute("href")&&o!==document&&"html"!==o.nodeName.toLowerCase();)o=o.parentNode,r++;var t=o.getAttribute("target");t&&-1!==t.indexOf("_blank")||(e=o.getAttribute("href"))}catch(e){console.warn(e)}return(e=s.isValidHref(e)?e:!1)||window.location.href},buildUrl:function(){this.config.loaderParams.title=encodeURIComponent(void 0!==document.getElementsByTagName("title")[0]?document.getElementsByTagName("title")[0].innerText:""),this.url=("https:"!==document.location.protocol&&"http:"!==document.location.protocol?"https:":document.location.protocol+"//")+this.config.loaderDomain+this.config.loaderEndpoint+this.buildQueryParams()},buildQueryParams:function(){var e,o=[];for(e in this.config.loaderParams)this.config.loaderParams.hasOwnProperty(e)&&this.config.loaderParams[e]&&o.push(e+"="+this.config.loaderParams[e]);return"?"+o.join("&")},randStr:function(e,o){for(var r="",t=o||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)r+=t.charAt(Math.floor(Math.random()*t.length));return r},getPuId:function(){return"neo_"+Math.floor(89999999*Math.random()+1e7)},isValidUserEvent:function(e){return s.Console.log("[isValidUserEvent] `event`:",e),!!("isTrusted"in e&&e.isTrusted&&"ie"!==s.browser.name&&"safari"!==s.browser.name)||(s.Console.log("[isValidUserEvent] `event.screenX` & `event.screenY`:",{screenX:e.screenX,screenY:e.screenY}),0!==e.screenX&&0!==e.screenY)},isValidHref:function(e){return void 0!==e&&""!==e&&!/\s?javascript\s?:/i.test(e)},shouldShow:function(){var e;return!(s.openCount>=s.config.freqCapViewLimit)&&(e=s.Cap.getCount(),!((s.openCount=e)>=s.config.freqCapViewLimit)||s.Cap.isExpired())},shouldPreventPopTrigger:function(e){s.Console.log("[shouldPreventPopTrigger] `event`:",e);var o=e.target||e.srcElement;if(s.Console.log("[shouldPreventPopTrigger] `clickedElement`:",o),o){if(s.elementHasExcludedIdOrClass(o))return!0;for(var r=e.path||e.composedPath&&e.composedPath(),t=0;t<r.length;t++)if(s.elementHasExcludedIdOrClass(r[t]))return!0}return!1},elementHasExcludedIdOrClass:function(e){if(0!==s.config.preventTriggerClass.length){void 0===s.config.preventTriggerClassArr&&(s.config.preventTriggerClassArr=-1===s.config.preventTriggerClass.indexOf(",")?s.config.preventTriggerClass.split(" "):s.config.preventTriggerClass.replace(/\s/g,"").split(","));for(var o=0;o<s.config.preventTriggerClassArr.length;o++){var r=void 0!==e.id&&!!e.id.length&&-1!==e.id.indexOf(s.config.preventTriggerClassArr[o]),t=void 0!==e.classList&&!!e.classList.length&&-1!==e.classList.value.indexOf(s.config.preventTriggerClassArr[o]);if(r||t)return!0}}return!1},browserDetector:{browserDefinitions:[["samsungbrowser",/SamsungBrowser\/([0-9._]+)/],["yandexbrowser",/YaBrowser\/([0-9._]+)/],["firefox",/Firefox\/([0-9.]+)(?:\s|$)/],["opera",/Opera\/([0-9.]+)(?:\s|$)/],["opera",/OPR\/([0-9.]+)(:?\s|$)$/],["edge",/Edge?\/([0-9._]+)/],["ie",/Trident\/7\.0.*rv:([0-9.]+)\).*Gecko$/],["ie",/MSIE\s([0-9.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["safari",/Version\/([0-9._]+).*Safari/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9.]+)(:?\s|$)/],["bb10",/BB10;\sTouch.*Version\/([0-9.]+)/],["android",/Android\s([0-9.]+)/],["ios",/Version\/([0-9._]+).*Mobile.*Safari.*/],["crios",/CriOS\/([0-9.]+)(:?\s|$)/]],detectBrowser:function(e){var o,r=e.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WebOS|Windows Phone/i);for(o in this.browserDefinitions){var t,n,i=this.browserDefinitions[o];if(i[1].test(e))return t=(t=i[1].exec(e))&&t[1].split(/[._]/).slice(0,3),n=Array.prototype.slice.call(t,1).join("")||"0",t&&t.length<3&&Array.prototype.push.apply(t,1===t.length?[0,0]:[0]),{name:i[0],version:t.join("."),versionNumber:parseFloat(t[0]+"."+n),isMobile:r}}return{name:"other",version:"1.0",versionNumber:1,isMobile:r}}},Cap:{isExpired:function(){var e=s.Cap.getExpiration();return(void 0===e||!e||e-(new Date).getTime()<=0)&&(s.Storage.remove(s.cookieName),s.Storage.remove(s.cookieName+"-expiry"),!0)},getExpiration:function(){var e;return s.Cookie.isSupported()?e=s.Cookie.get(s.cookieName+"-expiry"):s.Storage.isSupported()&&(e=s.Storage.get(s.cookieName+"-expiry")),e},getCount:function(){s.Cookie.isSupported()?e=s.Cookie.get(s.cookieName):s.Storage.isSupported()&&(e=s.Storage.get(s.cookieName));var e=void 0!==e&&e?parseInt(e):0;return e=isNaN(e)?0:e},incrementCount:function(){var e=1,e=0!==s.openCount?s.openCount+1:s.Cap.getCount()+1;s.Cookie.isSupported()&&(s.Cookie.set(s.cookieName,e,s.config.freqCapPeriod),s.Cookie.set(s.cookieName+"-expiry","",s.config.freqCapPeriod)),s.Storage.isSupported()&&(s.Storage.set(s.cookieName,e),s.Storage.set(s.cookieName+"-expiry",e,s.config.freqCapPeriod))}},Cookie:{isSupported:function(){var e=navigator.cookieEnabled;return e||void 0!==navigator.cookieEnabled||(document.cookie="testcookie",e=-1!==document.cookie.indexOf("testcookie")),e},get:function(e){for(var o,r,t=document.cookie.split(";"),n=0;n<t.length;n++)if(o=t[n].substr(0,t[n].indexOf("=")),r=t[n].substr(t[n].indexOf("=")+1),(o=o.replace(/^\s+|\s+$/g,""))===e)return decodeURIComponent(r)},set:function(e,o,r){var t=new Date,r=(t.setSeconds(t.getSeconds()+parseInt(r)),"expiry"!==o&&-1===e.indexOf("-expiry")||(o=t.getTime()),encodeURIComponent(o)+"; expires="+t.toUTCString()+"; path=/");document.cookie=e+"="+r}},Storage:{isSupported:function(){try{return localStorage.setItem("storageSupport","1"),localStorage.removeItem("storageSupport"),"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},get:function(e){try{return localStorage.getItem(e)||""}catch(e){return""}},set:function(e,o,r){r=r||null;try{var t;return null!==r&&!isNaN(r)&&0<r&&((t=new Date).setSeconds(t.getSeconds()+parseInt(r)),o=t.getTime()),localStorage.setItem(e,o),!0}catch(e){return!1}},remove:function(e){try{localStorage.removeItem(e)}catch(e){return!1}}},Console:{log:function(e){("true"===s.config.debugMode||"true"===window.adnPopConfig.debugMode)&&window.console&&window.console.log&&(1<arguments.length?window.console.log("[POPLOG] "+e,Array.prototype.slice.call(arguments)):window.console.log("[POPLOG] "+e))},debug:function(e){("true"===s.config.debugMode||"true"===window.adnPopConfig.debugMode)&&window.console&&window.console.debug&&(1<arguments.length?window.console.debug("[POPDEBUG] "+e,Array.prototype.slice.call(arguments)):window.console.debug("[POPDEBUG] "+e))}}};s.init(window.adnPopConfig),void 0===window.ADNPOP&&(window.ADNPOP={},window.ADNPOP.TriggerPop=window.ADNPOP.triggerPop=function(e){s.methods.manualTrigger(e)}),void 0===window.ADNMOBPOP&&(window.ADNMOBPOP={},window.ADNMOBPOP.TriggerPop=window.ADNMOBPOP.triggerPop=function(e){s.methods.manualTrigger(e)})})();